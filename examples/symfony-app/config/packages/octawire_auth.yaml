octawire_auth:
    # Используйте реальные UUID проектов из конфигурации Auth Service
    default_project: '018fd6d2-8bda-7c61-b01d-12d6eddb02af'
    projects:
        018fd6d2-8bda-7c61-b01d-12d6eddb02af:
            transport: 'tcp'
            tcp:
                host: 'localhost'
                port: 50052  # TCP/JATP порт (по умолчанию 50052)
                persistent: true  # Переиспользование соединений
                tls:
                    enabled: false  # true для production
                    # ca_file: '%kernel.project_dir%/config/tls/ca.crt'
                    # cert_file: '%kernel.project_dir%/config/tls/client.crt'  # для mTLS
                    # key_file: '%kernel.project_dir%/config/tls/client.key'  # для mTLS
                    # server_name: 'auth-service.example.com'
            project_id: '018fd6d2-8bda-7c61-b01d-12d6eddb02af'
            service_auth:
                service_name: 'symfony-app'
                service_secret: '%env(AUTH_SERVICE_SECRET)%'
            retry:
                max_attempts: 3
                initial_backoff: 0.1
                max_backoff: 5.0
            key_cache:
                driver: 'memory'
                ttl: 3600
                max_size: 100
            timeout:
                connect: 10.0
                request: 30.0
        018fd6d2-91da-7c77-b40d-abcdef012345:
            transport: 'tcp'
            tcp:
                host: 'auth.example.com'
                port: 50052
                persistent: true
                tls:
                    enabled: true
                    ca_file: '%kernel.project_dir%/config/tls/ca.crt'
                    server_name: 'auth.example.com'
            project_id: '018fd6d2-91da-7c77-b40d-abcdef012345'
            service_auth:
                service_name: 'internal-api'
                service_secret: '%env(AUTH_SERVICE_SECRET_INTERNAL)%'
            retry:
                max_attempts: 3
            key_cache:
                driver: 'redis'
                ttl: 3600
            redis:
                host: 'localhost'
                port: 6379
                db: 0




